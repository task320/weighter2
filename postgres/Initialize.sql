-- Setting
CREATE schema weighter;
ALTER DATABASE test_db SET search_path TO weighter;
SET search_path TO weighter;
ALTER DATABASE test_db SET timezone TO 'Asia/Tokyo';

-- tables

CREATE TABLE user_info (
    id integer NOT NULL,
    username character varying(255),
    password character varying(255)
);


CREATE TABLE weight_data (
    id character(5) NOT NULL,
    weight numeric(4,1),
    comment character varying(160),
    insert_date date NOT NULL
);



-- data

COPY user_info (id, username, password) FROM stdin;
0	task320	Sayonara<>51
1	test_mode	sayonara
\.


COPY weight_data (id, weight, comment, insert_date) FROM stdin;
0    	90.2		2017-06-13
0    	89.3		2017-06-14
0    	89.7		2017-06-15
0    	90.6		2017-06-17
0    	90.4		2017-06-18
0    	89.4		2017-06-21
0    	89.4		2017-06-23
0    	89.6		2017-06-24
0    	89.7		2017-06-26
0    	88.7		2017-06-29
0    	89.4		2017-07-02
0    	88.6		2017-07-03
0    	88.6		2017-07-04
0    	87.7		2017-07-05
0    	89.0		2017-07-09
0    	89.0		2017-07-12
0    	88.1		2017-07-14
0    	89.1		2017-07-15
0    	88.1		2017-07-17
0    	88.3		2017-07-20
0    	89.3		2017-07-25
0    	89.4		2017-07-26
0    	89.5		2017-07-30
0    	89.1		2017-08-01
0    	88.5		2017-08-03
0    	88.5		2017-08-07
0    	87.8		2017-08-09
0    	88.6		2017-08-11
0    	88.5		2017-08-14
0    	88.9		2017-08-15
0    	89.2		2017-08-16
0    	88.3		2017-08-17
0    	88.8		2017-08-23
0    	87.6		2017-08-24
0    	87.5		2017-08-31
0    	87.7		2017-09-18
0    	87.6		2017-09-20
1    	30.0		2017-09-20
0    	86.2		2017-09-22
0    	88.2		2017-09-26
0    	91.6		2018-01-28
0    	92.1		2018-01-29
0    	90.9		2018-01-31
0    	91.1		2018-02-02
0    	92.1		2018-02-04
0    	91.3		2018-02-06
0    	91.7		2018-02-13
0    	91.6		2018-02-15
0    	92.3		2018-02-17
0    	92.8		2018-02-26
0    	92.1		2018-03-01
0    	93.6		2018-03-11
0    	90.0		2018-09-16
0    	91.3		2018-09-18
0    	90.5		2018-09-19
0    	90.3		2018-09-20
0    	90.4		2018-09-23
0    	90.5		2018-09-26
0    	89.9		2018-10-05
0    	90.5		2018-10-08
0    	90.3		2018-10-11
0    	91.7		2018-10-16
0    	90.7		2018-10-17
0    	91.6		2018-10-19
0    	91.9		2018-10-21
0    	90.8		2018-10-22
0    	91.6		2018-10-23
0    	91.0		2018-10-25
0    	90.6		2018-10-27
0    	91.5		2018-10-30
0    	91.6		2018-11-01
0    	92.0		2018-11-07
0    	92.0		2018-11-08
0    	92.3		2018-11-16
0    	91.2		2018-11-20
0    	92.8		2018-11-22
0    	93.0		2018-11-26
0    	92.0		2018-11-27
0    	92.8		2018-11-29
0    	93.8		2018-11-30
0    	93.9		2018-12-01
0    	92.5		2018-12-04
0    	93.0		2018-12-10
0    	93.4		2018-12-11
0    	94.0		2018-12-12
0    	94.4		2018-12-13
0    	93.7		2018-12-23
0    	95.5		2019-01-17
0    	94.3		2019-01-20
0    	94.9		2019-02-10
0    	94.4		2019-02-13
0    	95.5		2019-02-24
0    	94.5		2019-02-25
0    	94.8		2019-02-26
0    	95.6		2019-03-03
0    	95.2		2019-03-04
0    	95.0		2019-03-05
0    	95.0		2019-03-07
0    	95.4		2019-03-10
0    	96.1		2019-03-14
0    	96.0		2019-03-18
0    	97.2		2019-03-19
0    	96.1		2019-03-21
0    	95.9		2019-03-27
0    	95.6		2019-03-28
0    	96.1		2019-03-30
0    	95.5		2019-03-31
0    	96.1		2019-04-02
0    	96.3		2019-04-05
0    	96.4		2019-04-07
0    	94.0		2019-04-18
0    	93.9		2019-04-27
0    	94.7		2019-06-20
0    	94.8		2019-06-21
0    	93.3		2019-06-24
0    	94.7		2019-06-25
0    	95.2		2019-06-26
0    	95.1		2019-06-27
0    	94.5		2019-06-28
0    	93.7		2019-06-29
0    	93.5		2019-07-02
0    	94.5		2019-07-03
0    	93.0		2019-07-04
0    	93.3		2019-07-05
0    	93.9		2019-07-06
0    	92.9		2019-07-15
0    	92.6		2019-07-19
0    	92.4		2019-07-22
0    	92.2		2019-07-23
0    	93.2		2019-07-25
0    	92.4		2019-07-26
0    	92.7		2019-07-27
0    	92.1		2019-07-28
0    	92.7		2019-07-29
0    	92.0		2019-07-31
0    	92.7		2019-08-06
0    	92.8		2019-08-08
0    	93.2		2019-08-23
0    	92.4		2019-08-26
0    	93.1		2019-08-28
0    	92.1		2019-09-02
0    	92.6		2019-09-03
0    	93.1		2019-09-05
0    	93.5		2019-09-10
0    	93.4		2019-09-11
0    	92.4		2019-09-12
0    	92.6		2019-09-14
0    	92.2		2019-09-17
0    	92.7		2019-09-18
0    	92.2		2019-09-20
0    	92.8		2019-09-22
0    	92.2		2019-09-24
0    	92.1		2019-09-26
0    	92.2		2019-09-27
0    	91.7		2019-09-28
0    	92.0		2019-09-30
0    	91.3		2019-10-01
0    	91.0		2019-10-02
0    	91.5		2019-10-03
0    	91.4		2019-10-04
0    	91.6		2019-10-07
0    	91.0		2019-10-09
0    	91.4		2019-10-11
0    	92.0		2019-10-13
0    	91.4		2019-10-14
0    	91.8		2019-10-16
0    	92.5		2019-10-22
0    	91.1		2019-10-24
0    	93.1		2019-10-27
0    	92.4		2019-10-28
0    	91.9		2019-10-29
0    	92.2		2019-10-30
0    	92.8		2019-11-04
0    	91.9		2019-11-11
0    	93.5		2019-11-12
0    	92.7		2019-11-13
0    	92.3		2019-11-20
0    	92.8		2019-11-21
0    	93.2		2019-11-23
0    	93.5		2019-11-24
0    	93.2		2019-11-25
0    	93.6		2019-11-27
0    	94.3		2019-11-29
0    	93.3		2019-12-03
0    	93.1		2019-12-04
0    	94.6		2019-12-05
0    	94.5		2019-12-06
0    	93.9		2019-12-08
0    	94.9		2019-12-09
0    	94.3		2019-12-11
0    	94.9		2019-12-13
0    	95.1		2019-12-14
0    	95.7		2019-12-15
0    	95.0		2019-12-16
0    	94.9		2019-12-19
0    	94.9		2019-12-22
0    	94.7		2020-01-11
0    	94.4		2020-01-12
0    	94.8		2020-01-16
0    	94.2		2020-01-18
0    	95.0		2020-01-20
0    	92.4		2020-01-30
0    	93.3		2020-02-09
0    	92.9		2020-02-11
0    	91.9		2020-02-12
0    	91.8		2020-02-13
0    	93.4		2020-02-14
0    	93.0		2020-02-16
0    	92.0		2020-02-20
0    	91.9		2020-03-11
0    	93.4		2020-03-23
0    	92.8		2020-04-04
0    	92.5		2020-04-06
\.


--
-- Name: user_info_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY user_info
    ADD CONSTRAINT user_info_pkey PRIMARY KEY (id);


--
-- Name: weight_data_pkey; Type: CONSTRAINT; Schema: public; Owner: postgres; Tablespace: 
--

ALTER TABLE ONLY weight_data
    ADD CONSTRAINT weight_data_pkey PRIMARY KEY (id, insert_date);
    
-- user
CREATE ROLE postgre_weighter WITH LOGIN PASSWORD 'testdb';
GRANT ALL PRIVILEGES ON DATABASE test_db TO postgre_weighter;
GRANT ALL PRIVILEGES ON SCHEMA weighter TO postgre_weighter;
GRANT ALL PRIVILEGES on ALL TABLES IN SCHEMA weighter TO postgre_weighter;



